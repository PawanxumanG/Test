<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RR College Admin - Live Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d1117;
            color: #e6edf3;
            margin: 0;
            overflow-x: hidden;
            transition: all 0.3s ease;
        }
        /* Enhanced Screenshot Protection Styles */
        .screenshot-protected {
            user-select: none !important;
            -webkit-user-select: none !important;
            -ms-user-select: none !important;
            -webkit-touch-callout: none !important;
        }
        .screenshot-protected #main-content {
            filter: blur(0px); /* Base state */
        }
        /* Obscure content when screen capturing tools are likely active or on blur */
        @media print {
            .screenshot-protected { display: none !important; }
        }

        .glass-panel {
            background: rgba(22, 27, 34, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(48, 54, 61, 0.6);
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
        }
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #30363d;
            border-radius: 10px;
        }
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-slide-up {
            animation: slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }
        .loader {
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-top: 2px solid #f97316;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            animation: spin 0.8s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        @keyframes gradientFlow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .event-preview-card {
            background-size: 400% 400%;
            animation: gradientFlow 8s ease infinite;
        }
        .name-glow {
            color: #f97316;
            font-weight: 900;
            text-shadow: 0 0 15px rgba(249, 115, 22, 0.9), 0 0 30px rgba(249, 115, 22, 0.4);
            letter-spacing: 0.15em;
        }
        .color-input-wrapper {
            position: relative;
            width: 100%;
            height: 48px;
            border-radius: 12px;
            overflow: hidden;
            border: 2px solid rgba(48, 54, 61, 0.8);
            transition: border-color 0.2s;
        }
        .color-input-wrapper:hover {
            border-color: #f97316;
        }
        .color-input-wrapper input[type="color"] {
            position: absolute;
            top: -10px;
            left: -10px;
            width: 150%;
            height: 150%;
            cursor: pointer;
            border: none;
            padding: 0;
            background: none;
        }
    </style>
</head>
<body id="app-body">
    <div id="root"></div>

    <script type="module">
        import React, { useState, useEffect, useCallback } from 'https://esm.sh/react@19.0.0';
        import ReactDOM from 'https://esm.sh/react-dom@19.0.0/client';

        const ADMIN_PASSWORD = "Pawan1645@";

        const hexToRgba = (hex, alpha) => {
            if (!hex) return `rgba(0,0,0,${alpha})`;
            if (hex.startsWith('rgba')) return hex;
            const r = parseInt(hex.slice(1, 3), 16);
            const g = parseInt(hex.slice(3, 5), 16);
            const b = parseInt(hex.slice(5, 7), 16);
            return `rgba(${r}, ${g}, ${b}, ${alpha})`;
        };

        const safeB64Encode = (str) => btoa(unescape(encodeURIComponent(str)));
        const safeB64Decode = (str) => decodeURIComponent(escape(atob(str)));

        const App = () => {
          const [activeTab, setActiveTab] = useState('notice');
          const [isUnlocked, setIsUnlocked] = useState(false);
          const [passwordInput, setPasswordInput] = useState('');
          
          const [config, setConfig] = useState(() => {
            const saved = localStorage.getItem('rr_admin_config_v7');
            return saved ? JSON.parse(saved) : { token: '', owner: '', repo: '', securityRepo: '' };
          });

          const [noticeData, setNoticeData] = useState({ 
            show: true, title: '', message: [], updates: { version: '', items: [] } 
          });
          const [announcementData, setAnnouncementData] = useState({ 
            id: 'notice-default', show: false, title: '', message: '',
            theme: { gradient: ["#ff9800", "#ff5722"], glow: { color: "#ff9800", blur: 30, intensity: 1 }, textColor: "#ffffff", buttonColor: "#000000" }
          });
          const [eventsData, setEventsData] = useState({ show: true, events: [] });
          const [leaderboardData, setLeaderboardData] = useState({ show: true, title: 'Annual Sports Results', sports: [] });
          const [securityData, setSecurityData] = useState({ disableScreenshot: false });

          const [shas, setShas] = useState({ 
            notice: null, announcement: null, events: null, leaderboard: null, security: null
          });

          const [loading, setLoading] = useState(false);
          const [status, setStatus] = useState(null);
          const [showSettings, setShowSettings] = useState(false);

          useEffect(() => {
            localStorage.setItem('rr_admin_config_v7', JSON.stringify(config));
          }, [config]);

          useEffect(() => {
            const body = document.getElementById('app-body');
            const preventAction = (e) => {
                if (securityData.disableScreenshot) {
                    e.preventDefault();
                    return false;
                }
            };

            if (securityData.disableScreenshot) {
              body.classList.add('screenshot-protected');
              window.addEventListener('contextmenu', preventAction);
            } else {
              body.classList.remove('screenshot-protected');
              window.removeEventListener('contextmenu', preventAction);
            }
            return () => window.removeEventListener('contextmenu', preventAction);
          }, [securityData.disableScreenshot]);

          const notify = (type, message) => {
            setStatus({ type, message });
            setTimeout(() => setStatus(null), 5000);
          };

          const handleUnlock = (e) => {
            e.preventDefault();
            if (passwordInput === ADMIN_PASSWORD) {
              setIsUnlocked(true);
              setPasswordInput('');
              notify('success', 'Admin session unlocked.');
              // Auto-sync security to get SHA immediately
              handleSync('security');
            } else {
              notify('error', 'Authentication failed.');
            }
          };

          const toggleSettings = () => {
            if (showSettings) {
              setIsUnlocked(false);
              setShowSettings(false);
              setPasswordInput('');
              notify('success', 'Security protocols active.');
            } else {
              setShowSettings(true);
            }
          };

          const getCurrentFilePath = () => {
            switch (activeTab) {
              case 'notice': return 'notice.json';
              case 'announcement': return 'announcement.json';
              case 'events': return 'events.json';
              case 'leaderboard': return 'leaderboard.json';
              case 'security': return 'security.json';
              default: return 'notice.json';
            }
          };

          const getDisplayName = () => {
            switch (activeTab) {
              case 'notice': return 'Notice Board';
              case 'announcement': return 'Announcement Pop-up';
              case 'events': return 'Events Manager';
              case 'leaderboard': return 'Sports Leaderboard';
              case 'security': return 'Security Config';
              default: return 'Management';
            }
          };

          const handleSync = async (targetTab = activeTab) => {
            if (!config.token || !config.owner || !config.repo) {
              notify('error', 'Configuration missing. Access GitHub settings.');
              return;
            }
            setLoading(true);
            const path = targetTab === 'security' ? 'security.json' : getCurrentFilePath();
            const targetRepo = targetTab === 'security' && config.securityRepo ? config.securityRepo : config.repo;
            
            try {
                const url = `https://api.github.com/repos/${config.owner}/${targetRepo}/contents/${path}`;
                const res = await fetch(url, {
                  headers: { 'Authorization': `token ${config.token}`, 'Accept': 'application/vnd.github.v3+json' }
                });
                if (!res.ok) throw new Error(`Fetch failed for ${path} in ${targetRepo}.`);
                const data = await res.json();
                const content = JSON.parse(safeB64Decode(data.content));
                
                if (targetTab === 'notice') { setNoticeData(content); setShas(p => ({...p, notice: data.sha})); }
                else if (targetTab === 'announcement') { setAnnouncementData(content); setShas(p => ({...p, announcement: data.sha})); }
                else if (targetTab === 'events') { setEventsData(content); setShas(p => ({...p, events: data.sha})); }
                else if (targetTab === 'leaderboard') { setLeaderboardData(content); setShas(p => ({...p, leaderboard: data.sha})); }
                else if (targetTab === 'security') { setSecurityData(content); setShas(p => ({...p, security: data.sha})); }
                
                notify('success', `${targetTab} data synchronized.`);
            } catch (err) {
              notify('error', err.message);
            } finally {
              setLoading(false);
            }
          };

          const handlePublish = async (targetTab = activeTab) => {
            const currentSha = shas[targetTab];
            const targetRepo = targetTab === 'security' && config.securityRepo ? config.securityRepo : config.repo;

            if (!config.token || !currentSha) {
              notify('error', 'Sync with GitHub before publishing.');
              return;
            }
            setLoading(true);
            const path = targetTab === 'security' ? 'security.json' : getCurrentFilePath();
            let currentData;
            if (targetTab === 'notice') currentData = noticeData;
            else if (targetTab === 'announcement') currentData = { ...announcementData, id: 'ann-' + Date.now() };
            else if (targetTab === 'events') currentData = eventsData;
            else if (targetTab === 'leaderboard') currentData = leaderboardData;
            else if (targetTab === 'security') currentData = securityData;

            try {
              const url = `https://api.github.com/repos/${config.owner}/${targetRepo}/contents/${path}`;
              const body = {
                message: `Admin Update: ${targetTab} via Control Center`,
                content: safeB64Encode(JSON.stringify(currentData, null, 2)),
                sha: currentSha
              };
              const res = await fetch(url, {
                method: 'PUT',
                headers: { 'Authorization': `token ${config.token}`, 'Accept': 'application/vnd.github.v3+json', 'Content-Type': 'application/json' },
                body: JSON.stringify(body)
              });
              if (!res.ok) throw new Error(`Publication failed for ${targetRepo}.`);
              const resData = await res.json();
              setShas(prev => ({ ...prev, [targetTab]: resData.content.sha }));
              notify('success', `${targetTab} updated live!`);
            } catch (err) {
              notify('error', err.message);
            } finally {
              setLoading(false);
            }
          };

          const addChangelogItem = () => setNoticeData(prev => ({ ...prev, updates: { ...prev.updates, items: [...(prev.updates?.items || []), ''] } }));
          const updateChangelogItem = (idx, val) => {
            const newItems = [...(noticeData.updates?.items || [])];
            newItems[idx] = val;
            setNoticeData(prev => ({ ...prev, updates: { ...prev.updates, items: newItems } }));
          };
          const removeChangelogItem = (idx) => setNoticeData(prev => ({ ...prev, updates: { ...prev.updates, items: prev.updates.items.filter((_, i) => i !== idx) } }));

          const addEvent = () => {
            const newEvent = { title: 'New Event', content: ['Detail 1'], theme: { gradient: ["#ff9800", "#ff5722"], glow: { color: "#ff9800", blur: 30, intensity: 0.8 } } };
            setEventsData(prev => ({ ...prev, events: [newEvent, ...prev.events] }));
          };

          const addSport = () => {
            const newSport = { sport: 'Sport Name', winners: [{ position: 1, name: 'TBD', class: 'N/A' }, { position: 2, name: 'TBD', class: 'N/A' }, { position: 3, name: 'TBD', class: 'N/A' }] };
            setLeaderboardData(prev => ({ ...prev, sports: [...prev.sports, newSport] }));
          };

          const updateSport = (idx, field, value) => {
            const newSports = [...leaderboardData.sports];
            if (field === 'sport') newSports[idx].sport = value;
            setLeaderboardData({ ...leaderboardData, sports: newSports });
          };

          const updateWinner = (sIdx, wIdx, field, value) => {
            const newSports = [...leaderboardData.sports];
            newSports[sIdx].winners[wIdx][field] = field === 'position' ? parseInt(value) : value;
            setLeaderboardData({ ...leaderboardData, sports: newSports });
          };

          return React.createElement('div', { id: "main-content", className: "min-h-screen p-4 md:p-8 max-w-7xl mx-auto flex flex-col gap-6" }, [
            React.createElement('header', { key: 'header', className: "flex flex-col xl:flex-row justify-between items-center gap-6 bg-[#161b22] p-5 rounded-[2.5rem] border border-slate-800 shadow-2xl relative" }, [
              React.createElement('div', { key: 'logo', className: "flex items-center gap-4" }, [
                React.createElement('div', { key: 'rr', className: "bg-gradient-to-br from-orange-500 to-amber-600 w-12 h-12 rounded-2xl flex items-center justify-center font-black text-xl text-white shadow-xl shadow-orange-900/40" }, "RR"),
                React.createElement('div', { key: 'title' }, [
                  React.createElement('h1', { key: 'h1', className: "text-lg font-black text-white tracking-tight" }, "College Control Center"),
                  React.createElement('p', { key: 'p', className: "text-[9px] text-slate-500 font-bold uppercase tracking-[0.2em]" }, "Management Suite v2.5")
                ])
              ]),
              React.createElement('div', { key: 'tabs', className: "bg-black/40 p-1 rounded-2xl flex flex-wrap justify-center items-center gap-1 border border-slate-800/50" }, 
                ['notice', 'announcement', 'events', 'leaderboard'].map(tab => (
                  React.createElement('button', { 
                    key: tab,
                    onClick: () => setActiveTab(tab),
                    className: `px-5 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all duration-300 ${activeTab === tab ? 'bg-orange-600 text-white shadow-lg' : 'text-slate-500 hover:text-slate-300'}`
                  }, tab === 'notice' ? 'Notices' : tab === 'announcement' ? 'Popup' : tab === 'events' ? 'Events' : 'Leaderboard')
                ))
              ),
              React.createElement('div', { key: 'actions', className: "flex flex-col items-center xl:items-end gap-2" }, [
                React.createElement('div', { key: 'btns', className: "flex gap-2" }, [
                  React.createElement('button', { key: 'cfg', onClick: toggleSettings, className: `px-5 py-3 rounded-2xl text-xs font-black border transition-all ${showSettings ? 'bg-white text-black' : 'bg-slate-800 border-slate-700 text-slate-300'}` }, showSettings ? 'âœ• Close' : 'âš™ï¸ Config'),
                  React.createElement('button', { key: 'sync', onClick: () => handleSync(), disabled: loading, className: "px-5 py-3 bg-blue-600 hover:bg-blue-500 rounded-2xl text-xs font-black text-white shadow-lg shadow-blue-900/30 disabled:opacity-50 flex items-center gap-2" }, 
                    loading ? React.createElement('div', { className: "loader" }) : "ðŸ”„ Sync Live"
                  )
                ]),
                React.createElement('div', { key: 'contact', className: "flex items-center gap-3 mt-1 pr-2" }, [
                  React.createElement('span', { className: "name-glow text-[11px] uppercase tracking-widest" }, "PAWAN PONNAM"),
                  React.createElement('a', { href: "https://wa.me/919867637326", target: "_blank", className: "px-3 py-1 bg-green-600 hover:bg-green-500 text-white text-[9px] font-black uppercase rounded-lg shadow-lg shadow-green-900/20 flex items-center gap-1 transition-all" }, "ðŸ’¬ Help")
                ])
              ])
            ]),
            showSettings && React.createElement('section', { key: 'settings', className: "glass-panel p-8 rounded-[3rem] animate-slide-up bg-orange-500/5 border-orange-500/20 shadow-[0_0_40px_rgba(249,115,22,0.1)]" }, [
              !isUnlocked ? React.createElement('div', { key: 'lock', className: "max-w-md mx-auto py-6 text-center" }, [
                React.createElement('div', { className: "mb-4 text-3xl" }, "ðŸ”’"),
                React.createElement('h3', { className: "text-sm font-black text-white uppercase tracking-widest mb-2" }, "Restricted Area"),
                React.createElement('form', { onSubmit: handleUnlock, className: "flex flex-col gap-3" }, [
                  React.createElement('input', { type: "password", autoFocus: true, value: passwordInput, onChange: e => setPasswordInput(e.target.value), className: "w-full bg-black/60 border border-slate-800 p-4 rounded-2xl focus:border-orange-500 outline-none text-center font-mono tracking-widest text-lg", placeholder: "â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" }),
                  React.createElement('button', { type: "submit", className: "bg-orange-600 hover:bg-orange-500 text-white font-black py-4 rounded-2xl text-xs uppercase tracking-widest" }, "Authorize Access")
                ])
              ]) : React.createElement('div', { key: 'config-form', className: "space-y-8" }, [
                React.createElement('div', { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6" }, [
                  React.createElement('div', null, [
                    React.createElement('label', { className: "text-[10px] font-black text-slate-500 uppercase mb-2 block tracking-widest pl-1" }, "Access Token"),
                    React.createElement('input', { type: "password", value: config.token, onChange: e => setConfig({...config, token: e.target.value}), className: "w-full bg-black/40 border border-slate-800 p-4 rounded-2xl focus:border-orange-500 outline-none text-sm text-slate-300" })
                  ]),
                  React.createElement('div', null, [
                    React.createElement('label', { className: "text-[10px] font-black text-slate-500 uppercase mb-2 block tracking-widest pl-1" }, "Repo Owner"),
                    React.createElement('input', { value: config.owner, onChange: e => setConfig({...config, owner: e.target.value}), className: "w-full bg-black/40 border border-slate-800 p-4 rounded-2xl focus:border-orange-500 outline-none text-sm text-slate-300" })
                  ]),
                  React.createElement('div', null, [
                    React.createElement('label', { className: "text-[10px] font-black text-slate-500 uppercase mb-2 block tracking-widest pl-1" }, "Repo Name"),
                    React.createElement('input', { value: config.repo, onChange: e => setConfig({...config, repo: e.target.value}), className: "w-full bg-black/40 border border-slate-800 p-4 rounded-2xl focus:border-orange-500 outline-none text-sm text-slate-300" })
                  ]),
                  React.createElement('div', null, [
                    React.createElement('label', { className: "text-[10px] font-black text-slate-500 uppercase mb-2 block tracking-widest pl-1" }, "Security Repo (Separate)"),
                    React.createElement('input', { value: config.securityRepo, onChange: e => setConfig({...config, securityRepo: e.target.value}), className: "w-full bg-black/40 border border-slate-800 p-4 rounded-2xl focus:border-orange-500 outline-none text-sm text-slate-300", placeholder: "e.g. security-repo" })
                  ])
                ]),
                React.createElement('div', { className: "pt-8 border-t border-slate-800/50" }, [
                  React.createElement('h4', { className: "text-[10px] font-black text-orange-500 uppercase tracking-widest mb-6 pl-1" }, "System Security"),
                  React.createElement('div', { className: "bg-black/60 p-6 rounded-[2rem] border border-slate-800 flex flex-col sm:flex-row justify-between items-center gap-6" }, [
                    React.createElement('div', null, [
                      React.createElement('h5', { className: "text-white font-black text-sm uppercase mb-1" }, "Screenshot Protection"),
                      React.createElement('p', { className: "text-slate-500 text-[10px] uppercase tracking-wide font-medium" }, "Prevents screen capture and text copying across the app.")
                    ]),
                    React.createElement('div', { className: "flex items-center gap-4" }, [
                      React.createElement('button', {
                        onClick: () => setSecurityData(p => ({...p, disableScreenshot: !p.disableScreenshot})),
                        className: `px-8 py-3 rounded-2xl font-black text-[10px] uppercase tracking-widest transition-all ${securityData.disableScreenshot ? 'bg-red-600 text-white shadow-[0_0_20px_rgba(220,38,38,0.4)]' : 'bg-green-600 text-white shadow-[0_0_20px_rgba(22,163,74,0.4)]'}`
                      }, securityData.disableScreenshot ? 'Disable Protection' : 'Enable Protection'),
                      React.createElement('button', {
                        onClick: () => handlePublish('security'),
                        disabled: loading || !shas.security,
                        className: "px-6 py-3 bg-orange-600 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-orange-500 disabled:opacity-20 transition-all flex items-center gap-2"
                      }, [
                        loading && targetTab === 'security' ? React.createElement('div', { className: "loader" }) : null,
                        "Push Security Update"
                      ])
                    ])
                  ])
                ])
              ])
            ]),
            status && React.createElement('div', { key: 'notify', className: `fixed bottom-8 right-8 z-[100] p-4 rounded-2xl border shadow-2xl flex items-center gap-3 animate-slide-up backdrop-blur-xl ${status.type === 'success' ? 'bg-green-600/10 border-green-500 text-green-400' : 'bg-red-600/10 border-red-500 text-red-400'}` }, 
              React.createElement('span', { className: "font-bold text-xs tracking-wide uppercase" }, status.message)
            ),
            React.createElement('div', { key: 'main', className: "grid grid-cols-1 lg:grid-cols-12 gap-8" }, [
              React.createElement('div', { key: 'editor', className: "lg:col-span-8 space-y-8" }, 
                React.createElement('section', { className: "glass-panel p-8 md:p-10 rounded-[3rem] shadow-2xl relative overflow-hidden group" }, [
                  React.createElement('div', { className: "flex justify-between items-center mb-8 pb-6 border-b border-slate-800/50" }, [
                    React.createElement('div', null, [
                      React.createElement('p', { className: "text-[10px] font-black text-orange-500 uppercase tracking-[0.4em] mb-1" }, "Editor Session"),
                      React.createElement('h2', { className: "text-2xl font-black text-white uppercase tracking-tight" }, getDisplayName())
                    ]),
                    React.createElement('button', { 
                      onClick: () => {
                        if(activeTab === 'notice') setNoticeData({...noticeData, show: !noticeData.show});
                        else if(activeTab === 'announcement') setAnnouncementData({...announcementData, show: !announcementData.show});
                        else if(activeTab === 'events') setEventsData({...eventsData, show: !eventsData.show});
                        else setLeaderboardData({...leaderboardData, show: !leaderboardData.show});
                      },
                      className: `px-5 py-2 rounded-full text-[9px] font-black transition-all border-2 ${
                        (activeTab === 'notice' ? noticeData.show : activeTab === 'announcement' ? announcementData.show : activeTab === 'events' ? eventsData.show : leaderboardData.show) ? 'bg-green-600/10 border-green-500 text-green-400' : 'bg-slate-800 border-slate-700 text-slate-500'
                      }`
                    }, "â— PUBLIC STATUS")
                  ]),
                  React.createElement('div', { className: "space-y-8" }, 
                    activeTab === 'events' ? React.createElement('div', { className: "space-y-10" }, [
                      React.createElement('button', { onClick: addEvent, className: "w-full py-4 border-2 border-dashed border-slate-800 rounded-3xl text-slate-500 hover:text-orange-500 hover:border-orange-500 transition-all font-black uppercase tracking-widest text-[10px]" }, "+ Add New Event Card"),
                      React.createElement('div', { className: "space-y-12" }, eventsData.events.map((ev, idx) => 
                        React.createElement('div', { key: idx, className: "bg-black/40 p-6 rounded-[2rem] border border-slate-800/50 relative group/event" }, [
                          React.createElement('button', { onClick: () => setEventsData(p => ({...p, events: p.events.filter((_, i) => i !== idx)})), className: "absolute -top-3 -right-3 w-8 h-8 bg-red-600 rounded-full flex items-center justify-center text-white text-xs opacity-0 group-hover/event:opacity-100 transition-opacity shadow-lg" }, "âœ•"),
                          React.createElement('div', { className: "grid grid-cols-1 gap-6" }, [
                            React.createElement('div', null, [
                              React.createElement('label', { className: "text-[9px] font-black text-slate-600 uppercase mb-2 block" }, "Event Headline"),
                              React.createElement('input', { value: ev.title, onChange: e => { let up = [...eventsData.events]; up[idx].title = e.target.value; setEventsData({...eventsData, events: up}) }, className: "w-full bg-[#0d1117] border border-slate-800 p-4 rounded-2xl text-lg font-bold text-white outline-none focus:border-orange-500" })
                            ]),
                            React.createElement('div', null, [
                              React.createElement('label', { className: "text-[9px] font-black text-slate-600 uppercase mb-2 block" }, "Description (Full Text)"),
                              React.createElement('textarea', { value: ev.content.join('\n'), onChange: e => { let up = [...eventsData.events]; up[idx].content = e.target.value.split('\n'); setEventsData({...eventsData, events: up}) }, rows: 6, className: "w-full bg-[#0d1117] border border-slate-800 p-4 rounded-2xl text-sm text-slate-400 outline-none focus:border-orange-500 resize-none custom-scrollbar" })
                            ]),
                            React.createElement('div', { className: "space-y-6" }, [
                              React.createElement('div', null, [
                                React.createElement('div', { className: "flex justify-between items-center mb-4" }, [
                                  React.createElement('label', { className: "text-[10px] font-black text-slate-500 uppercase tracking-widest pl-1" }, "Gradient Colors"),
                                  React.createElement('button', { onClick: () => { let up = [...eventsData.events]; up[idx].theme.gradient.push('#ffffff'); setEventsData({...eventsData, events: up}) }, className: "text-[8px] font-black uppercase text-orange-500 px-3 py-1 bg-orange-500/10 rounded-lg" }, "+ Add Color")
                                ]),
                                React.createElement('div', { className: "grid grid-cols-2 sm:grid-cols-4 gap-3" }, ev.theme.gradient.map((col, cIdx) => 
                                  React.createElement('div', { key: cIdx, className: "relative group/color" }, [
                                    React.createElement('label', { className: "text-[8px] font-black text-slate-600 uppercase mb-1 block" }, `COLOR ${cIdx + 1}`),
                                    React.createElement('div', { className: "color-input-wrapper" }, 
                                      React.createElement('input', { type: "color", value: col, onChange: e => { let up = [...eventsData.events]; up[idx].theme.gradient[cIdx] = e.target.value; setEventsData({...eventsData, events: up}) } })
                                    ),
                                    ev.theme.gradient.length > 2 && React.createElement('button', { onClick: () => { let up = [...eventsData.events]; up[idx].theme.gradient = up[idx].theme.gradient.filter((_, i) => i !== cIdx); setEventsData({...eventsData, events: up}) }, className: "absolute -top-1 -right-1 bg-red-600 text-white rounded-full w-4 h-4 text-[8px] opacity-0 group-hover/color:opacity-100 transition-opacity" }, "âœ•")
                                  ])
                                ))
                              ]),
                              React.createElement('div', { className: "grid grid-cols-1 md:grid-cols-3 gap-6 pt-4 border-t border-slate-800/50" }, [
                                React.createElement('div', null, [
                                  React.createElement('label', { className: "text-[10px] font-black text-slate-500 uppercase mb-2 block tracking-widest pl-1" }, "Glow Color"),
                                  React.createElement('div', { className: "color-input-wrapper" }, 
                                    React.createElement('input', { type: "color", value: typeof ev.theme.glow === 'object' ? ev.theme.glow.color : '#ff9800', onChange: e => { let up = [...eventsData.events]; if(typeof up[idx].theme.glow !== 'object') up[idx].theme.glow = {color: e.target.value, blur: 30, intensity: 0.5}; up[idx].theme.glow.color = e.target.value; setEventsData({...eventsData, events: up}) } })
                                  )
                                ]),
                                React.createElement('div', null, [
                                  React.createElement('label', { className: "text-[10px] font-black text-slate-500 uppercase mb-2 block tracking-widest pl-1" }, `Glow Blur: ${ev.theme.glow?.blur || 30}px`),
                                  React.createElement('input', { type: "range", min: "0", max: "100", value: ev.theme.glow?.blur || 30, onChange: e => { let up = [...eventsData.events]; if(typeof up[idx].theme.glow !== 'object') up[idx].theme.glow = {color: '#ff9800', blur: 30, intensity: 0.5}; up[idx].theme.glow.blur = parseInt(e.target.value); setEventsData({...eventsData, events: up}) }, className: "w-full h-2 bg-slate-800 rounded-lg appearance-none cursor-pointer accent-orange-500" })
                                ]),
                                React.createElement('div', null, [
                                  React.createElement('label', { className: "text-[10px] font-black text-slate-500 uppercase mb-2 block tracking-widest pl-1" }, `Intensity: ${Math.round((ev.theme.glow?.intensity || 0.5) * 100)}%`),
                                  React.createElement('input', { type: "range", min: "0", max: "1", step: "0.01", value: ev.theme.glow?.intensity || 0.5, onChange: e => { let up = [...eventsData.events]; if(typeof up[idx].theme.glow !== 'object') up[idx].theme.glow = {color: '#ff9800', blur: 30, intensity: 0.5}; up[idx].theme.glow.intensity = parseFloat(e.target.value); setEventsData({...eventsData, events: up}) }, className: "w-full h-2 bg-slate-800 rounded-lg appearance-none cursor-pointer accent-orange-500" })
                                ])
                              ])
                            ])
                          ])
                        ])
                      ))
                    ]) : activeTab === 'leaderboard' ? React.createElement('div', { className: "space-y-10" }, [
                      React.createElement('input', { value: leaderboardData.title, onChange: e => setLeaderboardData({...leaderboardData, title: e.target.value}), className: "w-full bg-[#0d1117] border border-slate-800 p-5 rounded-3xl text-xl font-bold text-white focus:border-orange-500 outline-none" }),
                      React.createElement('button', { onClick: addSport, className: "w-full py-4 border-2 border-dashed border-slate-800 rounded-3xl text-slate-500 hover:text-orange-500 hover:border-orange-500 transition-all font-black uppercase tracking-widest text-[10px]" }, "+ Add New Sport Section"),
                      React.createElement('div', { className: "space-y-12" }, leaderboardData.sports.map((sport, sIdx) => 
                        React.createElement('div', { key: sIdx, className: "bg-black/40 p-8 rounded-[2rem] border border-slate-800/50 relative group/sport" }, [
                          React.createElement('button', { onClick: () => removeSport(sIdx), className: "absolute -top-3 -right-3 w-8 h-8 bg-red-600 rounded-full flex items-center justify-center text-white text-xs opacity-0 group-hover/sport:opacity-100 transition-opacity shadow-lg" }, "âœ•"),
                          React.createElement('input', { value: sport.sport, onChange: e => updateSport(sIdx, 'sport', e.target.value), className: "w-full bg-[#0d1117] border border-slate-800 p-4 rounded-2xl text-lg font-bold text-orange-500 mb-6 outline-none" }),
                          React.createElement('div', { className: "space-y-4" }, [
                            React.createElement('div', { className: "flex justify-between" }, [
                              React.createElement('label', { className: "text-[9px] font-black text-slate-600 uppercase" }, "Winners"),
                              React.createElement('button', { onClick: () => addWinnerRow(sIdx), className: "text-[8px] font-black uppercase text-orange-500 bg-orange-500/10 px-3 py-1.5 rounded-lg" }, "+ Add")
                            ]),
                            sport.winners.map((winner, wIdx) => 
                              React.createElement('div', { key: wIdx, className: "grid grid-cols-12 gap-3 items-center" }, [
                                React.createElement('input', { type: "number", value: winner.position, onChange: e => updateWinner(sIdx, wIdx, 'position', e.target.value), className: "col-span-2 bg-black/60 border border-slate-800 p-3 rounded-xl text-xs font-black text-white text-center" }),
                                React.createElement('input', { value: winner.name, onChange: e => updateWinner(sIdx, wIdx, 'name', e.target.value), className: "col-span-5 bg-black/60 border border-slate-800 p-3 rounded-xl text-xs text-white" }),
                                React.createElement('input', { value: winner.class, onChange: e => updateWinner(sIdx, wIdx, 'class', e.target.value), className: "col-span-3 bg-black/60 border border-slate-800 p-3 rounded-xl text-xs text-slate-500" }),
                                React.createElement('button', { onClick: () => removeWinnerRow(sIdx, wIdx), className: "col-span-2 text-red-500" }, "âœ•")
                              ])
                            )
                          ])
                        ])
                      ))
                    ]) : React.createElement('div', { className: "space-y-8" }, [
                      React.createElement('div', null, [
                        React.createElement('label', { className: "text-[10px] font-black text-slate-500 uppercase tracking-widest block mb-2 pl-1" }, "Primary Headline"),
                        React.createElement('input', { value: activeTab === 'notice' ? noticeData.title : announcementData.title, onChange: e => activeTab === 'notice' ? setNoticeData({...noticeData, title: e.target.value}) : setAnnouncementData({...announcementData, title: e.target.value}), className: "w-full bg-[#0d1117] border border-slate-800 p-5 rounded-3xl text-xl font-bold text-white focus:border-orange-500 outline-none" })
                      ]),
                      React.createElement('div', null, [
                        React.createElement('label', { className: "text-[10px] font-black text-slate-500 uppercase tracking-widest block mb-2 pl-1" }, "Body Content (Full Text)"),
                        React.createElement('textarea', { value: activeTab === 'notice' ? noticeData.message.join('\n') : announcementData.message, onChange: e => activeTab === 'notice' ? setNoticeData({...noticeData, message: e.target.value.split('\n')}) : setAnnouncementData({...announcementData, message: e.target.value}), rows: 12, className: "w-full bg-[#0d1117] border border-slate-800 p-5 rounded-3xl text-slate-300 resize-none outline-none focus:border-orange-500" })
                      ]),
                      activeTab === 'notice' && React.createElement('div', { className: "space-y-6 pt-6 border-t border-slate-800/50" }, [
                        React.createElement('div', null, [
                          React.createElement('label', { className: "text-[10px] font-black text-slate-500 uppercase tracking-widest block mb-2 pl-1" }, "Version Tag"),
                          React.createElement('input', { value: noticeData.updates?.version || '', onChange: e => setNoticeData({...noticeData, updates: { ...noticeData.updates, version: e.target.value }}), className: "w-full bg-[#0d1117] border border-slate-800 p-4 rounded-2xl text-sm font-bold text-slate-400 focus:border-orange-500 outline-none", placeholder: "e.g. New App Updates v2.1" })
                        ]),
                        React.createElement('div', null, [
                          React.createElement('div', { className: "flex justify-between items-center mb-4" }, [
                            React.createElement('label', { className: "text-[10px] font-black text-slate-500 uppercase tracking-widest pl-1" }, "Changelog Items"),
                            React.createElement('button', { onClick: addChangelogItem, className: "text-[8px] font-black uppercase text-orange-500 bg-orange-500/10 px-3 py-1.5 rounded-lg border border-orange-500/20" }, "+ Add New Line")
                          ]),
                          React.createElement('div', { className: "space-y-2 bg-[#0d1117]/50 p-4 rounded-2xl border border-slate-800/50" }, 
                            !(noticeData.updates?.items?.length) ? 
                              React.createElement('div', { className: "py-4 text-center text-slate-700 text-[10px] font-black uppercase tracking-widest" }, "No Changelog Items Added") :
                              noticeData.updates.items.map((item, idx) => 
                                React.createElement('div', { key: idx, className: "flex gap-2" }, [
                                  React.createElement('input', { value: item, onChange: e => updateChangelogItem(idx, e.target.value), className: "flex-1 bg-[#161b22] border border-slate-800 p-3 rounded-xl text-xs text-white focus:border-orange-500 outline-none" }),
                                  React.createElement('button', { onClick: () => removeChangelogItem(idx), className: "px-3 bg-red-900/10 text-red-500 hover:bg-red-600 hover:text-white rounded-xl transition-all" }, "âœ•")
                                ])
                              )
                          )
                        ])
                      ]),
                      activeTab === 'announcement' && React.createElement('div', { className: "space-y-6 pt-6 border-t border-slate-800/50" }, [
                        React.createElement('div', null, [
                          React.createElement('div', { className: "flex justify-between items-center mb-4" }, [
                            React.createElement('label', { className: "text-[10px] font-black text-slate-500 uppercase tracking-widest pl-1" }, "Gradient Colors"),
                            React.createElement('button', { onClick: () => { let up = {...announcementData}; up.theme.gradient.push('#ffffff'); setAnnouncementData(up) }, className: "text-[8px] font-black uppercase text-orange-500 px-3 py-1 bg-orange-500/10 rounded-lg" }, "+ Add Color")
                          ]),
                          React.createElement('div', { className: "grid grid-cols-2 sm:grid-cols-4 gap-3" }, announcementData.theme?.gradient?.map((col, cIdx) => 
                            React.createElement('div', { key: cIdx, className: "relative group/color" }, [
                              React.createElement('label', { className: "text-[8px] font-black text-slate-600 uppercase mb-1 block" }, `COLOR ${cIdx + 1}`),
                              React.createElement('div', { className: "color-input-wrapper" }, 
                                React.createElement('input', { type: "color", value: col, onChange: e => { let up = {...announcementData}; up.theme.gradient[cIdx] = e.target.value; setAnnouncementData(up) } })
                              ),
                              announcementData.theme.gradient.length > 2 && React.createElement('button', { onClick: () => { let up = {...announcementData}; up.theme.gradient = up.theme.gradient.filter((_, i) => i !== cIdx); setAnnouncementData(up) }, className: "absolute -top-1 -right-1 bg-red-600 text-white rounded-full w-4 h-4 text-[8px] opacity-0 group-hover/color:opacity-100 transition-opacity" }, "âœ•")
                            ])
                          ))
                        ]),
                        React.createElement('div', { className: "grid grid-cols-1 md:grid-cols-3 gap-6 pt-4 border-t border-slate-800/50" }, [
                          React.createElement('div', null, [
                            React.createElement('label', { className: "text-[10px] font-black text-slate-500 uppercase mb-2 block tracking-widest pl-1" }, "Glow Color"),
                            React.createElement('div', { className: "color-input-wrapper" }, 
                              React.createElement('input', { type: "color", value: announcementData.theme?.glow?.color || '#ff9800', onChange: e => { let up = {...announcementData}; up.theme.glow.color = e.target.value; setAnnouncementData(up) } })
                            )
                          ]),
                          React.createElement('div', null, [
                            React.createElement('label', { className: "text-[10px] font-black text-slate-500 uppercase mb-2 block tracking-widest pl-1" }, `Glow Blur: ${announcementData.theme?.glow?.blur || 30}px`),
                            React.createElement('input', { type: "range", min: "0", max: "100", value: announcementData.theme?.glow?.blur || 30, onChange: e => { let up = {...announcementData}; up.theme.glow.blur = parseInt(e.target.value); setAnnouncementData(up) }, className: "w-full h-2 bg-slate-800 rounded-lg appearance-none cursor-pointer accent-orange-500" })
                          ]),
                          React.createElement('div', null, [
                            React.createElement('label', { className: "text-[10px] font-black text-slate-500 uppercase mb-2 block tracking-widest pl-1" }, `Intensity: ${Math.round((announcementData.theme?.glow?.intensity || 1) * 100)}%`),
                            React.createElement('input', { type: "range", min: "0", max: "1", step: "0.01", value: announcementData.theme?.glow?.intensity || 1, onChange: e => { let up = {...announcementData}; up.theme.glow.intensity = parseFloat(e.target.value); setAnnouncementData(up) }, className: "w-full h-2 bg-slate-800 rounded-lg appearance-none cursor-pointer accent-orange-500" })
                          ])
                        ]),
                        React.createElement('div', { className: "grid grid-cols-2 gap-6 pt-4 border-t border-slate-800/50" }, [
                          React.createElement('div', null, [
                            React.createElement('label', { className: "text-[10px] font-black text-slate-500 uppercase mb-2 block tracking-widest pl-1" }, "Text Color"),
                            React.createElement('div', { className: "color-input-wrapper" }, 
                              React.createElement('input', { type: "color", value: announcementData.theme?.textColor || '#ffffff', onChange: e => { let up = {...announcementData}; up.theme.textColor = e.target.value; setAnnouncementData(up) } })
                            )
                          ]),
                          React.createElement('div', null, [
                            React.createElement('label', { className: "text-[10px] font-black text-slate-500 uppercase mb-2 block tracking-widest pl-1" }, "Button Color"),
                            React.createElement('div', { className: "color-input-wrapper" }, 
                              React.createElement('input', { type: "color", value: announcementData.theme?.buttonColor || '#000000', onChange: e => { let up = {...announcementData}; up.theme.buttonColor = e.target.value; setAnnouncementData(up) } })
                            )
                          ])
                        ])
                      ])
                    ])
                  ),
                  React.createElement('button', { 
                    onClick: () => handlePublish(),
                    disabled: loading || !shas[activeTab],
                    className: "w-full mt-12 py-6 bg-gradient-to-r from-orange-600 to-amber-500 text-white font-black text-lg rounded-3xl shadow-2xl transition-all active:scale-[0.97] disabled:opacity-20 flex items-center justify-center gap-4 uppercase tracking-widest"
                  }, [
                    loading && activeTab !== 'security' ? React.createElement('div', { className: "loader" }) : null,
                    "ðŸš€ APPLY LIVE CHANGES"
                  ])
                ])
              ),
              React.createElement('div', { key: 'preview', className: "lg:col-span-4" }, 
                React.createElement('section', { className: "glass-panel p-8 rounded-[3rem] h-full flex flex-col" }, [
                  React.createElement('h3', { className: "text-[10px] font-black mb-8 flex items-center gap-3 text-slate-500 uppercase tracking-widest" }, [
                    React.createElement('span', { className: "w-2 h-2 rounded-full bg-green-500 animate-pulse" }),
                    "Dynamic Preview (Full View)"
                  ]),
                  React.createElement('div', { className: "flex-1 min-h-[500px] bg-[#0f1117] rounded-[2.5rem] p-4 overflow-y-auto custom-scrollbar shadow-inner" }, 
                    activeTab === 'leaderboard' ? React.createElement('div', { className: "w-full flex flex-col gap-4" }, [
                      React.createElement('h2', { className: "text-orange-500 font-black text-center" }, leaderboardData.title),
                      leaderboardData.sports.map((s, i) => React.createElement('div', { key: i, className: "bg-[#161a22] p-4 rounded-xl border border-slate-800" }, [
                        React.createElement('h4', { className: "text-amber-500 font-bold mb-2 uppercase" }, s.sport),
                        s.winners.map((w, wi) => React.createElement('div', { key: wi, className: "flex justify-between text-[10px] mb-1 opacity-80" }, [
                          React.createElement('span', null, `#${w.position} ${w.name}`),
                          React.createElement('span', null, w.class)
                        ]))
                      ]))
                    ]) : activeTab === 'events' ? eventsData.events.map((ev, i) => React.createElement('div', { 
                      key: i, className: "p-4 mb-4 rounded-xl text-white event-preview-card", 
                      style: { background: `linear-gradient(135deg, ${ev.theme.gradient.join(',')})`, boxShadow: `0 0 ${ev.theme.glow?.blur || 30}px ${hexToRgba(typeof ev.theme.glow === 'object' ? ev.theme.glow.color : '#ff9800', ev.theme.glow?.intensity || 0.5)}` } 
                    }, [
                      React.createElement('h4', { className: "font-black uppercase text-[12px]" }, ev.title),
                      ev.content.map((c, ci) => React.createElement('p', { key: ci, className: "text-[9px] mt-1.5 opacity-90 leading-tight" }, `â€¢ ${c}`))
                    ])) : activeTab === 'notice' ? React.createElement('div', { className: "bg-[#161a22] p-6 rounded-[2rem] border border-slate-800 shadow-2xl relative overflow-hidden" }, [
                      React.createElement('div', { className: "absolute top-0 left-0 w-full h-1 bg-orange-600" }),
                      React.createElement('h4', { className: "text-orange-500 font-black text-lg uppercase tracking-tight mb-4" }, noticeData.title || 'Notice Title'),
                      noticeData.message.map((m, i) => React.createElement('p', { key: i, className: "text-[11px] text-slate-400 mb-2 leading-relaxed" }, m)),
                      noticeData.updates?.version && React.createElement('div', { className: "mt-6 pt-4 border-t border-slate-800" }, [
                        React.createElement('span', { className: "text-orange-500 text-[9px] font-black uppercase mb-2 block" }, noticeData.updates.version),
                        noticeData.updates.items.map((it, idx) => React.createElement('p', { key: idx, className: "text-slate-500 text-[9px] mb-1" }, `â€¢ ${it}`))
                      ])
                    ]) : React.createElement('div', { 
                      className: `p-6 rounded-[2rem] text-center ${announcementData.show ? 'block' : 'opacity-20'}`,
                      style: announcementData.theme ? { background: `linear-gradient(135deg, ${announcementData.theme.gradient.join(',')})`, boxShadow: `0 0 ${announcementData.theme.glow?.blur || 30}px ${hexToRgba(announcementData.theme.glow?.color || '#ff9800', announcementData.theme.glow?.intensity || 0.5)}`, color: announcementData.theme.textColor || '#ffffff' } : {}
                    }, [
                      React.createElement('h4', { className: "font-black uppercase text-sm mb-4" }, announcementData.title || 'Pop-up Title'),
                      React.createElement('p', { className: "text-[11px] leading-relaxed mb-6" }, announcementData.message || 'Pop-up message content...'),
                      React.createElement('button', { className: "px-6 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest shadow-xl", style: { backgroundColor: announcementData.theme?.buttonColor || '#000000', color: announcementData.theme?.textColor || '#ffffff' } }, "DISMISS")
                    ])
                  )
                ])
              )
            ]),
            React.createElement('footer', { key: 'footer', className: "text-center pt-24 pb-12 flex flex-col items-center gap-6" }, [
               React.createElement('div', { className: "flex items-center gap-6 opacity-30 w-full" }, [
                  React.createElement('div', { className: "h-px flex-1 bg-slate-500" }),
                  React.createElement('span', { className: "text-[7px] font-black uppercase tracking-[0.8em] text-slate-500 whitespace-nowrap" }, "OFFICIAL SYSTEM"),
                  React.createElement('div', { className: "h-px flex-1 bg-slate-500" })
               ]),
               React.createElement('div', { className: "space-y-4" }, [
                 React.createElement('p', { className: "text-slate-500 text-[10px] font-black uppercase tracking-[0.4em]" }, "RR INTERNATIONAL COLLEGE"),
                 React.createElement('div', { className: "bg-[#161b22] px-8 py-4 rounded-[1.5rem] border border-slate-800/50 shadow-xl inline-flex items-center gap-4" }, [
                   React.createElement('span', { className: "text-slate-500 text-[10px] font-black uppercase tracking-widest" }, "MADE BY"),
                   React.createElement('div', { className: "w-px h-4 bg-slate-800" }),
                   React.createElement('span', { className: "name-glow text-[11px] uppercase tracking-[0.2em]" }, "PAWAN PONNAM")
                 ])
               ]),
               React.createElement('p', { className: "text-slate-700 text-[8px] font-bold uppercase tracking-[0.6em] mt-4" }, "ENCRYPTED ENVIRONMENT V2.2")
            ])
          ]);
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(React.createElement(React.StrictMode, null, React.createElement(App)));
    </script>
</body>
</html>